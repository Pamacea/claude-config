# TrigMem Examples - DÃ©monstrations TravaillÃ©es

> **Version:** 1.0.0 | **Invocable par:** `/trigmem-examples`
> **Type:** Working Examples | **DÃ©clenchement:** Automatique (quand pertinent)

---

## ğŸ¯ OBJECTIF

Ce skill dÃ©montre comment TrigMem s'applique en pratique et quand charger les patterns.

---

## ğŸ¯ FLOW DE DÃ‰CISION

```
User Question
     â†“
[trigmem-categories] Classification
     â†“
â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
â”‚         â”‚
Cat 1-3   Cat 4 (Patterns)
â”‚         â”‚
â†“         â†“
Rules/   Skills/ (Ã  la demande)
CLAUDE.md
```

---

## ğŸ“‹ CATÃ‰GORIE 1 : IdentitÃ© Projet

**Trigger:** "Qu'est-ce que ce projet ?", "Quel stack ?", "C'est quoi ce repo ?"

**DÃ©tection:** Demande d'identitÃ© ou de stack du projet

**Stockage:** CLAUDE.md (toujours chargÃ©)

---

## ğŸ“‹ CATÃ‰GORIE 2 : Structure Codebase

**Trigger:** "OÃ¹ sont les composants ?", "Structure du projet", "OÃ¹ je mets X ?"

**DÃ©tection:** Question sur la structure du code

**Stockage:** CLAUDE.md + rules/02-conventions.md (toujours chargÃ©)

---

## ğŸ“‹ CATÃ‰GORIE 3 : Commandes OpÃ©rationnelles

**Trigger:** "Comment je dÃ©ploie ?", "Comment build ?", "Scripts de dev"

**DÃ©tection:** Demande de workflow opÃ©rationnel

**Stockage:** CLAUDE.md ou README du projet

---

## ğŸ“‹ CATÃ‰GORIE 4 : Patterns RÃ©utilisables â­

**C'est la clÃ© de l'Ã©conomie de tokens !**

Les patterns techniques sont dans `skills/patterns/*` et chargÃ©s **uniquement Ã  la demande**.

### Triggers de Chargement

| Trigger | Skill Ã  charger |
|---------|-----------------|
| "Server Action", "use server", "revalidateTag", "use cache" | `/skill patterns/nextjs` |
| "App Router", "RSC", "Next.js 16" | `/skill patterns/nextjs` |
| "Axum handler", "sqlx query", "Tower middleware", "rust extractor" | `/skill patterns/rust` |
| "NestJS module", "DTO validation", "JWT guard", "TypeORM" | `/skill patterns/nestjs` |
| "wasm-bindgen", "wasm-pack", "WASM Next.js", "js-sys" | `/skill patterns/wasm` |
| "Quel stack", "quelle techno", "Next.js ou Vite" | `/skill patterns/tech-decisions` |

### Exemple de Pattern

```typescript
'use server'

import { revalidateTag } from 'next/cache'
import { z } from 'zod'

const schema = z.object({
  title: z.string().min(1),
})

export async function createPost(formData: FormData) {
  const data = schema.parse({
    title: formData.get('title'),
  })
  // ...
  revalidateTag('posts')
}
```

---

## ğŸ“‹ CATÃ‰GORIE 5 : Guides Architecturales

**Trigger:** "Conventions Git", "Format commit", "Structure de dossier", "Nomination"

**DÃ©tection:** Demande de guide/convention

**Stockage:** rules/02-conventions.md (toujours chargÃ©)

---

## ğŸ“‹ CATÃ‰GORIE 6 : Corrections ItÃ©ratives

**Trigger:** "Ne fais plus jamais X", "Toujours utiliser Y", "Ã‰viter Z"

**DÃ©tection:** Correction de comportement

**Stockage:** rules/01-nevers.md (toujours chargÃ©)

---

## ğŸ¯ RÃ‰SUMÃ‰ DES CATÃ‰GORIES

| CatÃ©gorie | Contenu | Stockage | Chargement |
|-----------|---------|----------|------------|
| **Cat 1** | IdentitÃ© projet | CLAUDE.md | SystÃ©matique |
| **Cat 2** | Structure codebase | CLAUDE.md + rules | SystÃ©matique |
| **Cat 3** | Workflows opÃ©rationnels | CLAUDE.md | SystÃ©matique |
| **Cat 4** | Patterns rÃ©utilisables | **skills/patterns/*** | **Ã€ la demande** â­ |
| **Cat 5** | Guides architecturales | rules/02-conventions.md | SystÃ©matique |
| **Cat 6** | Corrections itÃ©ratives | rules/01-nevers.md | SystÃ©matique |

---

## ğŸš€ BÃ‰NÃ‰FICES TRIGMEM v1.0.0

### Ã‰conomie de tokens
- **Avant:** ~30k tokens/session (toutes les rules chargÃ©es)
- **AprÃ¨s:** ~8k tokens/session + patterns Ã  la demande
- **Ã‰conomie:** 73% sur les sessions sans besoin de patterns techniques

### Organisation claire
- **SystÃ©matique:** IdentitÃ©, Structure, Guides, Corrections
- **Ã€ la demande:** Patterns techniques par techno (chargÃ© seulement si trigger dÃ©tectÃ©)

### ConformitÃ©
- Respect des 6 catÃ©gories TrigMem
- SÃ©paration Universel/SpÃ©cifique
- Ã‰quilibre Ã‰conomie/PrÃ©cision/RÃ©utilisabilitÃ©

---

## ğŸ”§ UTILISATION DES SKILLS

**Pour charger un pattern Ã  la demande :**
```
/skill patterns/nextjs
/pattern rust
/skills/patterns/nestjs
```

**Pour vÃ©rifier les rÃ¨gles systÃ©matiques :**
```
/trigmem-core      # Principes fondamentaux
/trigmem-categories # Classification automatique
/trigmem-examples  # Ce fichier
```

---

## ğŸ“š PATTERNS DISPONIBLES

| Skill | Contenu | Triggers |
|-------|---------|----------|
| `tech-decisions` | Choix de stack technique | "Quel stack", "quelle techno", "X ou Y" |
| `nextjs` | Next.js 16 + React 19 patterns | "Server Action", "App Router", "RSC", "revalidateTag" |
| `rust` | Rust + Axum patterns | "Axum handler", "sqlx query", "Tower middleware" |
| `nestjs` | NestJS patterns | "NestJS module", "DTO validation", "JWT guard" |
| `wasm` | WebAssembly patterns | "wasm-bindgen", "wasm-pack", "WASM Next.js" |

---

*Version: 1.0.0 | TrigMem Enhanced*
